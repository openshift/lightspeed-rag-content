# Red Hat OpenShift Container Platform 4.21 release notes


Red Hat Red Hat OpenShift Container Platform provides developers and IT organizations with a hybrid cloud application platform for deploying both new and existing applications on secure, scalable resources with minimal configuration and management. Red Hat OpenShift Container Platform supports a wide selection of programming languages and frameworks, such as Java, JavaScript, Python, Ruby, and PHP.
Built on Red Hat Enterprise Linux (RHEL) and Kubernetes, Red Hat OpenShift Container Platform provides a more secure and scalable multitenant operating system for today's enterprise-class applications, while delivering integrated application runtimes and libraries. Red Hat OpenShift Container Platform enables organizations to meet security, privacy, compliance, and governance requirements.

# About this release

Red Hat OpenShift Container Platform (RHSA-2025:9562) is now available. This release uses Kubernetes 1.34 with CRI-O runtime. New features, changes, and known issues that pertain to Red Hat OpenShift Container Platform 4.21 are included in this topic.

Red Hat OpenShift Container Platform 4.21 clusters are available at https://console.redhat.com/openshift. From the Red Hat Hybrid Cloud Console, you can deploy Red Hat OpenShift Container Platform clusters to either on-premises or cloud environments.

You must use RHCOS machines for the control plane and for the compute machines.

Starting from Red Hat OpenShift Container Platform 4.14, the Extended Update Support (EUS) phase for even-numbered releases increases the total available lifecycle to 24 months on all supported architectures, including x86_64, 64-bit ARM (aarch64), IBM Power&#174; (ppc64le), and IBM Z&#174; (s390x) architectures. Beyond this, Red&#160;Hat also offers a 12-month additional EUS add-on, denoted as Additional EUS Term 2, that extends the total available lifecycle from 24 months to 36 months. The Additional EUS Term 2 is available on all architecture variants of Red Hat OpenShift Container Platform. For more information about support for all versions, see the Red Hat Red Hat OpenShift Container Platform Life Cycle Policy.

Red Hat OpenShift Container Platform is designed for FIPS. When running Red Hat Enterprise Linux (RHEL) or Red Hat Enterprise Linux CoreOS (RHCOS) booted in FIPS mode, Red Hat OpenShift Container Platform core components use the RHEL cryptographic libraries that have been submitted to NIST for FIPS 140-2/140-3 Validation on only the x86_64, ppc64le, and s390x architectures.

For more information about the NIST validation program, see Cryptographic Module Validation Program. For the latest NIST status for the individual versions of RHEL cryptographic libraries that have been submitted for validation, see Compliance Activities and Government Standards.

# Red Hat OpenShift Container Platform layered and dependent component support and compatibility

The scope of support for layered and dependent components of Red Hat OpenShift Container Platform changes independently of the Red Hat OpenShift Container Platform version. To determine the current support status and compatibility for an add-on, refer to its release notes. For more information, see the Red Hat Red Hat OpenShift Container Platform Life Cycle Policy.

# New features and enhancements

This release adds improvements related to the following components and concepts:

## API server



## Authentication and authorization

Using the Azure kubelogin plugin for direct authentication with Microsoft Entra ID:: Red Hat tested authenticating to Red Hat OpenShift Container Platform by using the Azure kubelogin plugin. This validation covers environments where Microsoft Entra ID is configured as the external OIDC provider for direct authentication. The following login modes for kubelogin were tested:
* Device code grant
* Service principal authentication
* Interactive web browser flow

For more information, see Enabling direct authentication with an external OIDC identity provider.

## Autoscaling

Network policy support for Autoscaling Operators:: 

The following Operators now have multiple network policies that control network traffic to and from the Operator and operand pods. These policies restrict traffic to only traffic that is explicitly allowed or required.
* Cluster Resource Override Operator
* Cluster Autoscaler
* Vertical Pod Autoscaler
* Horizontal Pod Autoscaler
Applying VPA recommendations without pod re-creation:: 

You can now configure a Vertical Pod Autoscaler Operator (VPA) in the InPlaceOrRecreate mode. In this mode, the VPA attempts to apply the recommended updates without re-creating pods. If the VPA is unable to update the pods in place, the VPA falls back to re-creating the pods. For more information, see About the Vertical Pod Autoscaler Operator modes.
Cluster Autoscaler Operator can now cordon nodes before removing the node:: 

By default, when the Cluster Autoscaler Operator removes a node, it does not cordon the node when draining the pods from the node. You can configure the Operator to cordon the node before draining and moving the pods. For more information, see About the cluster autoscaler.

## Edge computing



## etcd

Manage etcd size by limiting the time-to-live (TTL) duration for Kubernetes events (Technology Preview):: 

With this release, you can manage etcd size by setting the eventTTLMinutes property. Having too many stale Kubernetes events in an etcd database can degrade performance. By setting the eventTTLMinutes property, you can specify how long an event can stay in the database before it is purged. For more information, see Managing etcd size by limiting the duration of Kubernetes events.

## Extensions (OLM v1)



## Hosted control planes



## IBM Power

The IBM Power(R) release on Red Hat OpenShift Container Platform 4.21 adds improvements and new capabilities to Red Hat OpenShift Container Platform components:: 

This release introduces support for the following features on IBM Power:
* Enable Installer-Provisioned Infrastructure (IPI) support for PowerVC [Technology Preview]
* Enable Spyre Accelerator on IBM Power(R)
The IBM Power(R) release for Red Hat OpenShift Container Platform 4.21 adds support for the following operator:: 
* CIFS/SMB CSI Driver Operator
* Kernel Module Management Operator (KMMO)
* Red Hat build of Kueue


[IMPORTANT]
----
When using kdump on IBM Power(R), the following limitations apply:
* Firmware-assisted dump (fadump) is not supported.
* Persistent memory dump is not supported.
----

## IBM Z and IBM LinuxONE

The IBM Z(R) and IBM(R) LinuxONE release on Red Hat OpenShift Container Platform 4.21 adds improvements and new capabilities to Red Hat OpenShift Container Platform components:: 

This release introduces support for the following features on IBM Z&#174; and IBM&#174; LinuxONE:
* Enable Spyre Accelerator on IBM Z(R)
The IBM Z(R) release for Red Hat OpenShift Container Platform 4.21 adds support for the following operator:: 
* Kernel Module Management Operator (KMMO)
* Red Hat build of Kueue

## IBM Power, IBM Z, and IBM LinuxOne support matrix



## Insights Operator



## Installation and update

Configuring image mode for OpenShift during installation is now supported:: 

You can now apply a custom layered image to your nodes during Red Hat OpenShift Container Platform installation. For more information, see Applying a custom layered image during OpenShift Container Platform installation.
Installing a cluster on Google Cloud with a user-provisioned DNS is generally available:: 

You can enable a user-provisioned domain name server (DNS) instead of the default cluster-provisioned DNS solution. For example, your organizationâ€™s security policies might not allow the use of public DNS services such as Google Cloud DNS. You can manage your DNS only for the IP addresses of the API and Ingress servers. If you use this feature, you must provide your own DNS solution that includes records for api.<cluster_name>.<base_domain>. and *.apps.<cluster_name>.<base_domain>..

Installing a cluster on Google Cloud with a user-provisioned DNS was introduced in Red Hat OpenShift Container Platform 4.19 with Technology Preview status. In Red Hat OpenShift Container Platform 4.21, it is now generally available.

For more information, see Enabling a user-managed DNS and Provisioning your own DNS records.
Installing a cluster on Microsoft Azure uses Marketplace images by default:: 

As of this update, the Red Hat OpenShift Container Platform installation program uses Marketplace images by default when installing a cluster on Azure. This speeds up the installation by removing the need to upload a virtual hard disk to Azure and create an image during installation. This feature is not supported on Azure Stack Hub, or for Azure installations that use Confidential VMs.
Managing your own firewall rules when installing a cluster on Google Cloud into an existing VPC:: 

As of this update, you can manage your own firewall rules when installing a cluster on Google Cloud into an existing VPC by enabling the firewallRulesManagement parameter in the install-config.yaml file. You can limit the permissions that you grant to the installation program by managing your own firewall rules.

For more information, see Managing your own firewall rules.
Throughput customization for Amazon Web Services gp3 drives:: 

With this update, you can now customize the maximum throughput for gp3 rootVolume drives when installing a cluster on Amazon Web Services. This customization is set by modifying the compute.platform.aws.rootVolume.throughput or controlPlane.platform.aws.rootVolume.throughput parameters in the install-config.yaml file.

For more information, see Optional AWS configuration parameters.
Support for VMware vSphere Foundation 9 and VMware Cloud Foundation 9:: 

You can now install Red Hat OpenShift Container Platform on VMware vSphere Foundation (VVF) 9 and VMware Cloud Foundation (VCF) 9.

[NOTE]
----
The following additional VCF and VVF components are outside the scope of Red Hat support:
* Management: VCF Operations, VCF Automation, VCF Fleet Management, and VCF Identity Broker.
* Networking: VMware NSX Container Plugin (NCP).
* Migration: VMware HCX.
----
Support for installing Red Hat OpenShift Container Platform on Oracle Database Appliance (ODA):: 

With this update, you can install a cluster on Oracle Database Appliance using the Assisted Installer.

For more information, see Installing a cluster on Oracle Database Appliance by using the Assisted Installer.
Installing a cluster on Microsoft Azure using NAT Gateways:: 

With this update, you can install a cluster on Azure using NAT Gateways as your outbound routing strategy. NAT Gateways can minimize the risk of SNAT port exhaustion that can occur with other outbound routing strategies. You can configure NAT Gateways using the platform.azure.outboundType parameter in the install-config.yaml file.

For more information, see Additional Azure configuration parameters.
Installing a cluster using Google Cloud private and restricted API endpoints:: 

With this release, you can use Google Cloud Private Service Connect (PSC) endpoints when installing your Red Hat OpenShift Container Platform cluster so that your installation meets your organization&#8217;s strict regulatory policies.

For more information, see Optional configuration parameters.
Dell iDRAC10 supported for bare metal installation using Redfish virtual media:: 

Dell iDRAC10 versions 1.20.25.00, 1.20.60.50, and 1.20.70.50 have been tested and verified to work for installer-provisioned Red Hat OpenShift Container Platform clusters deployed by using Redfish virtual media. iDRAC10 has not been tested with installations that use a provisioning network. For more information, see Firmware requirements for installing with virtual media.
Providing a local or self-signed CA certificate for Baseboard Management Controllers (BMCs) when installing a cluster on bare metal:: 

With this update, you can provide your own local or self-signed CA certificate to secure communication with BMCs when installing a cluster on bare metal. You can configure this certificate using the platform.baremetal.bmcCACert parameter in the install-config.yaml file. If you do not use a trusted CA certificate, you can secure BMC communication by providing your own CA certificate. You can also configure a local or self-signed CA certificate after installation, whether the cluster was installed with a different BMC CA certificate or with no BMC CA certificate.

For more information, see Additional installation configuration parameters and Configuring a local or self-signed Baseboard Management Controller CA certificate.
Running firmware upgrades for hosts in deployed bare metal clusters (Generally Available):: 

For hosts in deployed bare metal clusters, you can update firmware attributes and the firmware image. As a result, you can run firmware upgrades and update BIOS settings for hosts that are already provisioned without fully deprovisioning them. Performing a live update to the HostFirmwareComponents, HostFirmareSettings, or  HostUpdatePolicy resource can be a destructive and destabilizing action. Perform these updates only after careful consideration.

This feature was introduced in Red Hat OpenShift Container Platform 4.18 with Technology Preview status. This feature is now supported as generally available in Red Hat OpenShift Container Platform 4.21.

For more information, see Performing a live update to the HostFirmwareSettings resource,
Performing a live update to the HostFirmwareComponents resource, and
Setting the HostUpdatePolicy resource.

## Machine Config Operator

Boot image management for Azure and vSphere clusters promoted to GA:: 

Updating boot images has been promoted to GA for Microsoft Azure and VMware vSphere clusters. For more information, see Boot image management.
Configuring image mode for OpenShift during installation is now supported:: 

You can now apply a custom layered image to your nodes during Red Hat OpenShift Container Platform installation. For more information, see Applying a custom layered image during OpenShift Container Platform installation.
Image mode for OpenShift status reporting improvements:: 

The output of the oc describe machineconfignodes <mcp_name> now contains an ImageBuildDegraded error that indicates if an image mode for OpenShift failed. For more information, see About node status during updates.
Image mode for OpenShift status reporting improvements (Technology preview):: 

The oc describe machineconfigpool <mcp_name> output,  as a Technology Preview feature, now includes the following fields that report the status of machine config updates when image mode for OpenShift is enabled:
* Spec.ConfigImage.DesiredImage. This is the desired image for that node.
* Status.ConfigImage.CurrentImage. This is the current image on that node.
* Status.Conditions.ImagePulledFromRegistry. This reports whether an image is able to pull correctly in an image mode update.

For more information, see About node status during updates.

Boot image management for control plane nodes is now supported (Technology Preview):: 

Updating boot images is now supported as a Technology Preview feature for VMware vSphere clusters. This feature allows you to configure your cluster to update the node boot image whenever you update your cluster. Previously, updating boot images was supported for worker nodes. For more information, see Boot image management.
Overriding storage or partition setup (Technology preview):: 

You can now use a MachineConfig object to change the installed disk partition schema, file systems, and RAID configurations for new nodes. Previously, for security reasons, you were blocked from changing these configurations from what was established during the cluster installation. For more information, see "Overriding storage and partition setup".

## Machine management

Additional control plane machine set failure domain options for Azure:: This release includes additional configuration options for control plane machine set failure domains on Microsoft Azure.

For more information, see Sample Azure failure domain configuration.

## Monitoring


[NOTE]
----
The monitoring stack documentation is now available as a separate documentation set. The 4.21 monitoring release notes are available at Release notes for OpenShift monitoring.
----

## Networking

Applying unassisted holdover for boundary clocks and time synchronous clocks:: 

Red Hat OpenShift Container Platform 4.20 introduced unassisted holdover for boundary clocks and time synchronous clocks as a Technology Preview feature. This feature is now Generally Available (GA).

For more information, see Applying unassisted holdover for boundary clocks and time slave clocks.
SR-IOV Operator supports ARM architecture:: 

The Single Root I/O Virtualization (SR-IOV) Operator can now communicate with ARM hardware. You can now complete tasks such as configure network cards that are already plugged into an ARM server and use these cards in your applications. For instructions on how to search for ARM hardware that the SR-IOV Operator supports, see About Single Root I/O Virtualization (SR-IOV) hardware networks.

## Nodes

Allocating specific GPUs to pods (DRA) is now generally available:: 

Attribute-Based GPU Allocation, which allows pods to request GPUs based on specific device attributes by using a Dynamic Resource Allocation (DRA) driver, is now generally available. For more information, see Allocating GPUs to Pods.
The default openshift cluster image policy is now generally available:: 

The default openshift cluster image policy is now generally available and active by default. For more information, see Manage secure signatures with sigstore.

If your Red Hat OpenShift Container Platform 4.20 or earlier cluster has a cluster image policy named openshift, the upgrade to Red Hat OpenShift Container Platform marks the cluster as not updatable (Upgradeable=False) because of this default openshift cluster image policy. You must remove your openshift cluster image policy to clear the Upgradeable=False condition and proceed with the update. You can optionally create your own cluster image policy with a different name before removing your openshift cluster image policy.
Support for sigstore BYOPKI is now generally available:: 

Support for using a certificate from your own public key infrastructure as a Sigstore root of trust is now generally available. For more information, see Manage secure signatures with sigstore.
Automatically calculate and apply CPU and memory resources for system components:: 

Red Hat OpenShift Container Platform now automatically calculates and reserves a portion of the CPU and memory resources for use by the underlying node and system components. Previously, you needed to enable the feature by creating a KubeletConfig custom resource (CR) with the autoSizingReserved: true parameter. For clusters updated to Red Hat OpenShift Container Platform 4.21, you can enable the feature by deleting the 50-worker-auto-sizing-disabled machine config. After you delete the machine config, the nodes reboot with the new resource settings. If you manually configured system reserved CPU or memory resources, these settings remain upon update and do not change. For more information on this new feature, see Automatically allocating resources for nodes.

## OpenShift CLI (oc)

Signature mirroring enabled by default for oc-mirror v2:: With this update, the oc-mirror v2 plugin mirrors image signatures by default. This enhancement ensures that image integrity is automatically preserved during the mirroring process without requiring additional configuration. If your environment does not require signature validation, you can manually disable this feature by using the --remove-signatures command-line flag. For more information, see Disabling signature mirroring for oc-mirror plugin v2.

## Operator development



## Operator lifecycle



## Postinstallation configuration

Enabling hardware metrics monitoring on bare-metal clusters (Technology Preview):: 

With this update, you can enable your cluster to collect hardware metrics from the Redfish-compatible baseboard management controllers of your bare-metal nodes.
Metrics include temperature, power consumption, fan status, and drive health.
You enable this Technology Preview feature by enabling the Ironic Prometheus Exporter in your cluster as a postinstallation task.

For more information, see Hardware metrics in the Monitoring stack.

## Red Hat Enterprise Linux CoreOS (RHCOS)



## Scalability and performance

Pod-level IRQ affinity introduces housekeeping mode:: 

For latency-sensitive workloads, you can now configure the irq-load-balancing.crio.io pod annotation to use housekeeping mode. This mode enables a subset of pinned CPUs to handle system interrupts while isolating the remaining pinned CPUs for latency-sensitive workloads. This reduces the overall CPU footprint by eliminating the need for dedicated housekeeping CPUs for IRQ handling. When you configure housekeeping mode, the first pinned CPU and its thread siblings handle interrupts for the system.

For more information, see Configuring interrupt processing for individual pods.

## Storage



## Support for sigstore bring your own PKI (BYOPKI) image validation



## Web console



# Notable technical changes

This section includes several technical changes for Red Hat OpenShift Container Platform 4.21.

VMware vSphere 7 and VMware Cloud Foundation 4 end of general support:: 

Broadcom has ended general support for VMware vSphere 7 and VMware Cloud Foundation (VCF) 4. If your existing Red Hat OpenShift Container Platform cluster is running on either of these platforms, you must plan to migrate or upgrade your VMware infrastructure to a supported version. Red Hat OpenShift Container Platform supports installation on vSphere 8 Update 1 or later, or VCF 5 or later.
Bare Metal Operator has read-only root filesystem by default:: 

As of this update, the Bare Metal Operator has the readOnlyRootFilesystem security context setting enabled to meet common hardening recommendations.
MachineSets advertise node architecture for autoscaling:: 

With this update, MachineSets advertise the architecture of their nodes, which allows the autoscaler to intelligently scale MachineSets in multi-architecture environments.

# Deprecated and removed features

## Images deprecated and removed features



## Installation deprecated and removed features



## Machine Management deprecated and removed features



## Networking deprecated and removed features



## Node deprecated and removed features



## OpenShift CLI (oc) deprecated and removed features



## Operator lifecycle and development deprecated and removed features



## Storage deprecated and removed features



## Web console deprecated and removed features



## Workloads deprecated and removed features



# Deprecated features



# Removed features

This section includes removed features for Red Hat OpenShift Container Platform 4.21.

Swap memory support has been removed:: 

The ability to configure swap memory is no longer available in Red Hat OpenShift Container Platform because using swap memory can prevent a node from properly safeguarding itself from failures.

# Fixed issues

The following issues are fixed for this release:

## Bare Metal Hardware Provisioning



## Cloud Compute



## Cloud Credential Operator



## Cluster Autoscaler



## Cluster Resource Override Admission Operator



## Cluster Version Operator



## config-operator



## Dev Console



## etcd



## Extensions (OLM v1)



## ImageStreams



## Installer



## Kube Controller Manager



## Kubernetes API Server



## Machine Config Operator



## Management Console



## Networking

### Update CoreDNS to version 1.13.1 for Kubernetes 1.34 compatibility

To maintain compatibility with Kubernetes 1.34, CoreDNS has been updated to version 1.13.1. This update resolves intermittent DNS resolution issues reported in previous versions and includes upstream performance fixes and security patches.

## Node



## Node Tuning Operator



## Observability



## oc-mirror



## OpenShift API Server



## OpenShift CLI (oc)



## OpenShift Controller



## Operator Lifecycle Manager (OLM) Classic



## Service Catalog



## Storage



# Technology Preview features status

Some features in this release are currently in Technology Preview. These experimental features are not intended for production use. Note the following scope of support on the Red&#160;Hat Customer Portal for these features:

Technology Preview Features Support Scope

In the following tables, features are marked with the following statuses:

* Not Available
* Technology Preview
* General Availability
* Deprecated
* Removed

## Authentication and authorization Technology Preview features



## Edge computing Technology Preview features



## Extensions Technology Preview features



## Installation Technology Preview features



## Machine Config Operator Technology Preview features



## Machine management Technology Preview features



## Multi-Architecture Technology Preview features



## Networking Technology Preview features



## Node Technology Preview features



## OpenShift CLI (oc) Technology Preview features



## Operator lifecycle and development Technology Preview features



## Red Hat OpenStack Platform (RHOSP) Technology Preview features



## Scalability and performance Technology Preview features



## Storage Technology Preview features



## Web console Technology Preview features



# Known issues

This section includes several known issues for Red Hat OpenShift Container Platform 4.21.

* If you mirrored the Red Hat OpenShift Container Platform release images to the registry of a disconnected environment by using the oc adm release mirror command, the release image Sigstore signature is not mirrored with the image.

This has become an issue in Red Hat OpenShift Container Platform 4.21, because the openshift cluster image policy is now deployed to the cluster by default. This policy causes CRI-O to automatically verify the Sigstore signature when pulling images into a cluster.  (OCPBUGS-70297)

With the absence of the Sigstore signature, after updating to Red Hat OpenShift Container Platform 4.21 on a disconnected environment, future Cluster Version Operator pods might fail to run. You can avoid this problem by installing the oc-mirror plugin v2 and using the oc mirror command to mirror the Red Hat OpenShift Container Platform release image. The oc-mirror plugin v2 mirrors both the release image and its Sigstore signature from your mirror registry to your disconnected environment.

If you cannot use the oc-mirror plugin v2, you can use the oc image mirror command to mirror the Sigstore signature into your mirror registry by using a command similar to the following:

```terminal
$ oc image mirror "quay.io/openshift-release-dev/ocp-release:${RELEASE_DIGEST}.sig" "${LOCAL_REGISTRY}/${LOCAL_RELEASE_IMAGES_REPOSITORY}:${RELEASE_DIGEST}.sig"
```

where:
RELEASE_DIGEST:: Specifies your digest image with the : character replaced by a - character. For example: sha256:884e1ff5effeaa04467fab9725900e7f0ed1daa89a7734644f14783014cebdee becomes sha256-884e1ff5effeaa04467fab9725900e7f0ed1daa89a7734644f14783014cebdee.sig.

For information on the oc-mirror v2 plugin, see Mirroring images for a disconnected installation by using the oc-mirror plugin v2.
* Starting with Red Hat OpenShift Container Platform 4.21, there is a decrease in the default maximum open files soft limit for containers. As a consequence, end users might experience application failures. To work around this problem, increase the container runtimes (CRI-O) ulimit configuration using a method of your choice, such as the ulimit command. (OCPBUGS-62095)

# Asynchronous errata updates

Security, bug fix, and enhancement updates for Red Hat OpenShift Container Platform 4.21 are released as asynchronous errata through the Red&#160;Hat Network. All Red Hat OpenShift Container Platform 4.21 errata is available on the Red Hat Customer Portal. See the Red Hat OpenShift Container Platform Life Cycle for more information about asynchronous errata.
Red&#160;Hat Customer Portal users can enable errata notifications in the account settings for Red&#160;Hat Subscription Management (RHSM). When errata notifications are enabled, users are notified through email whenever new errata relevant to their registered systems are released.


[NOTE]
----
Red Hat Customer Portal user accounts must have systems registered and consuming Red Hat OpenShift Container Platform entitlements for Red Hat OpenShift Container Platform errata notification emails to generate.
----

This section will continue to be updated over time to provide notes on enhancements and bug fixes for future asynchronous errata releases of Red Hat OpenShift Container Platform 4.21. Versioned asynchronous releases, for example with the form Red Hat OpenShift Container Platform 4.21.z, will be detailed in subsections. In addition, releases in which the errata text cannot fit in the space provided by the advisory will be detailed in subsections that follow.


[IMPORTANT]
----
For any Red Hat OpenShift Container Platform release, always review the instructions on updating your cluster properly.
----