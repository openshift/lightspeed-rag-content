# DataGather [insights.openshift.io/v1alpha2]


Description:: 
DataGather provides data gather configuration options and status for the particular Insights data gathering.
Compatibility level 4: No compatibility is provided, the API can change at any point for any reason. These capabilities should not be used by applications needing long term support.
Type:: object
Required:: 
* spec

# Specification



## .spec

Description:: 
spec holds user settable values for configuration
Type:: object



## .spec.gatherers

Description:: 
gatherers is an optional field that specifies the configuration of the gatherers.
If omitted, all gatherers will be run.
Type:: object
Required:: 
* mode



## .spec.gatherers.custom

Description:: 
custom provides gathering configuration.
It is required when mode is Custom, and forbidden otherwise.
Custom configuration allows user to disable only a subset of gatherers.
Gatherers that are not explicitly disabled in custom configuration will run.
Type:: object
Required:: 
* configs



## .spec.gatherers.custom.configs

Description:: 
configs is a required list of gatherers configurations that can be used to enable or disable specific gatherers.
It may not exceed 100 items and each gatherer can be present only once.
It is possible to disable an entire set of gatherers while allowing a specific function within that set.
The particular gatherers IDs can be found at https://github.com/openshift/insights-operator/blob/master/docs/gathered-data.md.
Run the following command to get the names of last active gatherers:
"oc get insightsoperators.operator.openshift.io cluster -o json \| jq '.status.gatherStatus.gatherers[].name'"
Type:: array

## .spec.gatherers.custom.configs[]

Description:: 
gathererConfig allows to configure specific gatherers
Type:: object
Required:: 
* name
* state



## .spec.storage

Description:: 
storage is an optional field that allows user to define persistent storage for gathering jobs to store the Insights data archive.
If omitted, the gathering job will use ephemeral storage.
Type:: object
Required:: 
* type



## .spec.storage.persistentVolume

Description:: 
persistentVolume is an optional field that specifies the PersistentVolume that will be used to store the Insights data archive.
The PersistentVolume must be created in the openshift-insights namespace.
Type:: object
Required:: 
* claim



## .spec.storage.persistentVolume.claim

Description:: 
claim is a required field that specifies the configuration of the PersistentVolumeClaim that will be used to store the Insights data archive.
The PersistentVolumeClaim must be created in the openshift-insights namespace.
Type:: object
Required:: 
* name



## .status

Description:: 
status holds observed values from the cluster. They may not be overridden.
Type:: object



## .status.conditions

Description:: 
conditions is an optional field that provides details on the status of the gatherer job.
It may not exceed 100 items and must not contain duplicates.
The current condition types are DataUploaded, DataRecorded, DataProcessed, RemoteConfigurationNotAvailable, RemoteConfigurationInvalid
The DataUploaded condition is used to represent whether or not the archive was successfully uploaded for further processing.
When it has a status of True and a reason of Succeeded, the archive was successfully uploaded.
When it has a status of Unknown and a reason of NoUploadYet, the upload has not occurred, or there was no data to upload.
When it has a status of False and a reason Failed, the upload failed. The accompanying message will include the specific error encountered.
The DataRecorded condition is used to represent whether or not the archive was successfully recorded.
When it has a status of True and a reason of Succeeded, the archive was recorded successfully.
When it has a status of Unknown and a reason of NoDataGatheringYet, the data gathering process has not started yet.
When it has a status of False and a reason of RecordingFailed, the recording failed and a message will include the specific error encountered.
The DataProcessed condition is used to represent whether or not the archive was processed by the processing service.
When it has a status of True and a reason of Processed, the data was processed successfully.
When it has a status of Unknown and a reason of NothingToProcessYet, there is no data to process at the moment.
When it has a status of False and a reason of Failure, processing failed and a message will include the specific error encountered.
The RemoteConfigurationAvailable condition is used to represent whether the remote configuration is available.
When it has a status of Unknown and a reason of Unknown or RemoteConfigNotRequestedYet, the state of the remote configuration is unknown—typically at startup.
When it has a status of True and a reason of Succeeded, the configuration is available.
When it has a status of False and a reason of NoToken, the configuration was disabled by removing the cloud.openshift.com field from the pull secret.
When it has a status of False and a reason of DisabledByConfiguration, the configuration was disabled in insightsdatagather.config.openshift.io.
The RemoteConfigurationValid condition is used to represent whether the remote configuration is valid.
When it has a status of Unknown and a reason of Unknown or NoValidationYet, the validity of the remote configuration is unknown—typically at startup.
When it has a status of True and a reason of Succeeded, the configuration is valid.
When it has a status of False and a reason of Invalid, the configuration is invalid.
The Progressing condition is used to represent the phase of gathering
When it has a status of False and the reason is DataGatherPending, the gathering has not started yet.
When it has a status of True and reason is Gathering, the gathering is running.
When it has a status of False and reason is GatheringSucceeded, the gathering succesfully finished.
When it has a status of False and reason is GatheringFailed, the gathering failed.
Type:: array

## .status.conditions[]

Description:: 
Condition contains details for one aspect of the current state of this API Resource.
Type:: object
Required:: 
* lastTransitionTime
* message
* reason
* status
* type



## .status.gatherers

Description:: 
gatherers is a list of active gatherers (and their statuses) in the last gathering.
Type:: array

## .status.gatherers[]

Description:: 
gathererStatus represents information about a particular
data gatherer.
Type:: object
Required:: 
* lastGatherSeconds
* name



## .status.gatherers[].conditions

Description:: 
conditions provide details on the status of each gatherer.
The current condition type is DataGathered
The DataGathered condition is used to represent whether or not the data was gathered by a gatherer specified by name.
When it has a status of True and a reason of GatheredOK, the data has been successfully gathered as expected.
When it has a status of False and a reason of NoData, no data was gathered—for example, when the resource is not present in the cluster.
When it has a status of False and a reason of GatherError, an error occurred and no data was gathered.
When it has a status of False and a reason of GatherPanic, a panic occurred during gathering and no data was collected.
When it has a status of False and a reason of GatherWithErrorReason, data was partially gathered or gathered with an error message.
Type:: array

## .status.gatherers[].conditions[]

Description:: 
Condition contains details for one aspect of the current state of this API Resource.
Type:: object
Required:: 
* lastTransitionTime
* message
* reason
* status
* type



## .status.insightsReport

Description:: 
insightsReport provides general Insights analysis results.
When omitted, this means no data gathering has taken place yet or the
corresponding Insights analysis (identified by "insightsRequestID") is not available.
Type:: object



## .status.insightsReport.healthChecks

Description:: 
healthChecks provides basic information about active Insights health checks
in a cluster.
Type:: array

## .status.insightsReport.healthChecks[]

Description:: 
healthCheck represents an Insights health check attributes.
Type:: object
Required:: 
* advisorURI
* description
* totalRisk



## .status.relatedObjects

Description:: 
relatedObjects is an optional list of resources which are useful when debugging or inspecting the data gathering Pod
It may not exceed 100 items and must not contain duplicates.
Type:: array

## .status.relatedObjects[]

Description:: 
ObjectReference contains enough information to let you inspect or modify the referred object.
Type:: object
Required:: 
* group
* name
* namespace
* resource



# API endpoints

The following API endpoints are available:

* /apis/insights.openshift.io/v1alpha2/datagathers
* DELETE: delete collection of DataGather
* GET: list objects of kind DataGather
* POST: create a DataGather
* /apis/insights.openshift.io/v1alpha2/datagathers/{name}
* DELETE: delete a DataGather
* GET: read the specified DataGather
* PATCH: partially update the specified DataGather
* PUT: replace the specified DataGather
* /apis/insights.openshift.io/v1alpha2/datagathers/{name}/status
* GET: read status of the specified DataGather
* PATCH: partially update status of the specified DataGather
* PUT: replace status of the specified DataGather

## /apis/insights.openshift.io/v1alpha2/datagathers

HTTP method:: DELETE
Description:: delete collection of DataGather



HTTP method:: GET
Description:: list objects of kind DataGather



HTTP method:: POST
Description:: create a DataGather







## /apis/insights.openshift.io/v1alpha2/datagathers/{name}



HTTP method:: DELETE
Description:: delete a DataGather





HTTP method:: GET
Description:: read the specified DataGather



HTTP method:: PATCH
Description:: partially update the specified DataGather





HTTP method:: PUT
Description:: replace the specified DataGather







## /apis/insights.openshift.io/v1alpha2/datagathers/{name}/status



HTTP method:: GET
Description:: read status of the specified DataGather



HTTP method:: PATCH
Description:: partially update status of the specified DataGather





HTTP method:: PUT
Description:: replace status of the specified DataGather





