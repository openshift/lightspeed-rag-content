# MachineConfigNode [machineconfiguration.openshift.io/v1]


Description:: 
MachineConfigNode describes the health of the Machines on the system
Compatibility level 1: Stable within a major release for a minimum of 12 months or 3 minor releases (whichever is longer).
Type:: object
Required:: 
* spec

# Specification



## .spec

Description:: 
spec describes the configuration of the machine config node.
Type:: object
Required:: 
* configVersion
* node
* pool



## .spec.configImage

Description:: 
configImage is an optional field for configuring the OS image to be used for this node. This field will only exist if the node belongs to a pool opted into on-cluster image builds, and will override any MachineConfig referenced OSImageURL fields
When omitted, Image Mode is not be enabled and the node will follow the standard update process of creating a rendered MachineConfig and updating to its specifications.
When specified, Image Mode is enabled and will attempt to update the node to use the desired image. Following this, the node will follow the standard update process of creating a rendered MachineConfig and updating to its specifications.
Type:: object
Required:: 
* desiredImage



## .spec.configVersion

Description:: 
configVersion holds the desired config version for the node targeted by this machine config node resource.
The desired version represents the machine config the node will attempt to update to and gets set before the machine config operator validates
the new machine config against the current machine config.
Type:: object
Required:: 
* desired



## .spec.node

Description:: 
node contains a reference to the node for this machine config node.
Type:: object
Required:: 
* name



## .spec.pool

Description:: 
pool contains a reference to the machine config pool that this machine config node's
referenced node belongs to.
Type:: object
Required:: 
* name



## .status

Description:: 
status describes the last observed state of this machine config node.
Type:: object



## .status.conditions

Description:: 
conditions represent the observations of a machine config node's current state. Valid types are:
UpdatePrepared, UpdateExecuted, UpdatePostActionComplete, UpdateComplete, Updated, Resumed,
Drained, AppliedFilesAndOS, Cordoned, Uncordoned, RebootedNode, NodeDegraded, PinnedImageSetsProgressing,
and PinnedImageSetsDegraded.
The following types are only available when the ImageModeStatusReporting feature gate is enabled: ImagePulledFromRegistry,
AppliedOSImage, AppliedFiles
Type:: array

## .status.conditions[]

Description:: 
Condition contains details for one aspect of the current state of this API Resource.
Type:: object
Required:: 
* lastTransitionTime
* message
* reason
* status
* type



## .status.configImage

Description:: 
configImage is an optional field for configuring the OS image to be used for this node. This field will only exist if the node belongs to a pool opted into on-cluster image builds, and will override any MachineConfig referenced OSImageURL fields.
When omitted, this means that the Image Mode feature is not being used and the node will be up to date with the specific current rendered config version for the nodes MachinePool.
When specified, the Image Mode feature is enabled and the contents of this field show the observed state of the node image.
When Image Mode is enabled and a new MachineConfig is applied such that a new OS image build is not created, only the configVersion field will change.
When Image Mode is enabled and a new MachineConfig is applied such that a new OS image build is created, then only the configImage field will change. It is also possible that both the configImage
and configVersion change during the same update.
Type:: object



## .status.configVersion

Description:: 
configVersion describes the current and desired machine config version for this node.
Type:: object
Required:: 
* desired



## .status.internalReleaseImage

Description:: 
internalReleaseImage describes the status of the release payloads stored in the node.
When specified, an internalReleaseImage custom resource exists on the cluster, and the specified images will be made available on the control plane nodes.
This field will reflect the actual on-disk state of those release images.
Type:: object
Required:: 
* releases



## .status.internalReleaseImage.releases

Description:: 
releases is a list of the release bundles currently owned and managed by the
cluster.
A release bundle content could be safely pulled only when its Conditions field
contains at least an Available entry set to "True" and Degraded to "False".
Entries must be unique, keyed on the name field.
releases must contain at least one entry and must not exceed 32 entries.
Type:: array

## .status.internalReleaseImage.releases[]

Description:: 
MachineConfigNodeStatusInternalReleaseImageRef is used to provide a more detailed reference for
a release bundle.
Type:: object
Required:: 
* name



## .status.internalReleaseImage.releases[].conditions

Description:: 
conditions represent the observations of an internal release image current state. Valid types are:
Mounted, Installing, Available, Removing and Degraded.
If Mounted is true, that means that a valid ISO has been mounted on the current node.
If Installing is true, that means that a new release bundle is currently being copied on the current node, and not yet completed.
If Available is true, it means that the release has been previously installed on the current node, and it can be used.
If Removing is true, it means that a release deletion is in progress on the current node, and not yet completed.
If Degraded is true, that means something has gone wrong in the current node.
Type:: array

## .status.internalReleaseImage.releases[].conditions[]

Description:: 
Condition contains details for one aspect of the current state of this API Resource.
Type:: object
Required:: 
* lastTransitionTime
* message
* reason
* status
* type



## .status.irreconcilableChanges

Description:: 
irreconcilableChanges is an optional field that contains the observed differences between this nodes
configuration and the target rendered MachineConfig.
This field will be set when there are changes to the target rendered MachineConfig that can only be applied to
new nodes joining the cluster.
Entries must be unique, keyed on the fieldPath field.
Must not exceed 32 entries.
Type:: array

## .status.irreconcilableChanges[]

Description:: 
IrreconcilableChangeDiff holds an individual diff between the initial install-time MachineConfig
and the latest applied one caused by the presence of irreconcilable changes.
Type:: object
Required:: 
* diff
* fieldPath



## .status.pinnedImageSets

Description:: 
pinnedImageSets describes the current and desired pinned image sets for this node.
Type:: array

## .status.pinnedImageSets[]

Description:: 
MachineConfigNodeStatusPinnedImageSet holds information about the current, desired, and failed pinned image sets for the observed machine config node.
Type:: object
Required:: 
* name



# API endpoints

The following API endpoints are available:

* /apis/machineconfiguration.openshift.io/v1/machineconfignodes
* DELETE: delete collection of MachineConfigNode
* GET: list objects of kind MachineConfigNode
* POST: create a MachineConfigNode
* /apis/machineconfiguration.openshift.io/v1/machineconfignodes/{name}
* DELETE: delete a MachineConfigNode
* GET: read the specified MachineConfigNode
* PATCH: partially update the specified MachineConfigNode
* PUT: replace the specified MachineConfigNode
* /apis/machineconfiguration.openshift.io/v1/machineconfignodes/{name}/status
* GET: read status of the specified MachineConfigNode
* PATCH: partially update status of the specified MachineConfigNode
* PUT: replace status of the specified MachineConfigNode

## /apis/machineconfiguration.openshift.io/v1/machineconfignodes

HTTP method:: DELETE
Description:: delete collection of MachineConfigNode



HTTP method:: GET
Description:: list objects of kind MachineConfigNode



HTTP method:: POST
Description:: create a MachineConfigNode







## /apis/machineconfiguration.openshift.io/v1/machineconfignodes/{name}



HTTP method:: DELETE
Description:: delete a MachineConfigNode





HTTP method:: GET
Description:: read the specified MachineConfigNode



HTTP method:: PATCH
Description:: partially update the specified MachineConfigNode





HTTP method:: PUT
Description:: replace the specified MachineConfigNode







## /apis/machineconfiguration.openshift.io/v1/machineconfignodes/{name}/status



HTTP method:: GET
Description:: read status of the specified MachineConfigNode



HTTP method:: PATCH
Description:: partially update status of the specified MachineConfigNode





HTTP method:: PUT
Description:: replace status of the specified MachineConfigNode





