# OpenShift Virtualization release notes



# Providing documentation feedback

To report an error or to improve our documentation, log in to your Red Hat Jira account and submit a Jira issue.

# About Red Hat OpenShift Virtualization

With Red Hat OpenShift Virtualization, you can bring traditional virtual machines (VMs) into {product-title} and run them alongside containers. In OpenShift Virtualization, VMs are native Kubernetes objects that you can manage by using the {product-title} web console or the command line.

OpenShift Virtualization is represented by the  icon.

You can use OpenShift Virtualization the OVN-Kubernetes Container Network Interface (CNI) network provider.

Learn more about what you can do with OpenShift Virtualization.

Learn more about OpenShift Virtualization architecture and deployments.

Prepare your cluster for OpenShift Virtualization.

## Supported cluster versions for OpenShift Virtualization

The latest stable release of OpenShift Virtualization 4.19 is 4.19.0.

OpenShift Virtualization 4.19 is supported for use on {product-title} {product-version} clusters. To use the latest z-stream release of OpenShift Virtualization, you must first upgrade to the latest version of {product-title}.

## Supported guest operating systems

To view the supported guest operating systems for OpenShift Virtualization, see Certified Guest Operating Systems in Red Hat OpenStack Platform, Red Hat Virtualization, OpenShift Virtualization and Red Hat Enterprise Linux with KVM.

## Microsoft Windows SVVP certification

OpenShift Virtualization is certified in Microsoft&#8217;s Windows Server Virtualization Validation Program (SVVP) to run Windows Server workloads.

The SVVP certification applies to:

* Red Hat Enterprise Linux CoreOS workers. In the Microsoft SVVP Catalog, they are named Red Hat OpenShift Container Platform 4 on RHEL CoreOS 9.
* Intel and AMD CPUs.

# Quick starts

Quick start tours are available for several OpenShift Virtualization features. To view the tours, click the Help icon ? in the menu bar on the header of the {product-title} web console and then select Quick Starts. You can filter the available tours by entering the keyword virtualization in the Filter field.

# New and changed features

This release adds new features and enhancements related to the following components and concepts:

## Installation and update

* Installing OpenShift Virtualization on Oracle Cloud Infrastructure (OCI) is now generally available. For more information, see OpenShift Virtualization and Oracle Cloud Infrastructure known issues and limitations in the Red Hat Knowledgebase, and Installing OpenShift Virtualization on OCI on GitHub.

## Infrastructure



## Virtualization



## Networking

* You can now hot plug and hot unplug a secondary network interface to a VM without manually triggering live migration. You do not need permission to create and list VirtualMachineInstanceMigration objects. For more information, see Hot plugging secondary network interfaces.

* Managing the link state of a virtual machine interface is now generally available. In previous releases this was a Technology Preview feature.

## Storage



## Web console

* In the {product-title} web console, the Migrations tab of the Virtualization page now displays a progress bar for each migrating virtual machine.

* When performing live migration of a VM, you can now specify the particular node for the VM to migrate to.

## Monitoring

Added documentation for the kubevirt_vmi_vcpu_delay_seconds_total Prometheus metric. This metric reports the time a virtual CPU (vCPU) was queued by the host scheduler but was not running. The updated documentation helps users better understand vCPU queue delays in OpenShift Virtualization environments.

## Documentation improvements



## Notable technical changes



# Deprecated and removed features

## Deprecated features

Deprecated features are included in the current release and supported. However, they will be removed in a future release and are not recommended for new deployments.

* The OperatorConditionsUnhealthy alert is deprecated. You can safely silence it.

## Removed features

Removed features are no longer supported in OpenShift Virtualization.

* With this release, support for the Data Plane Development Kit (DPDK) checkup has been removed. You can no longer run a predefined checkup to verify if your {product-title} cluster node can run a VM with a DPDK workload with zero packet loss.

# Technology Preview features

Some features in this release are currently in Technology Preview. These experimental features are not intended for production use. Note the following scope of support on the Red Hat Customer Portal for these features:

Technology Preview Features Support Scope

* OpenShift Virtualization is now supported on Azure Boost.

* The DevKubeVirtRelieveAndMigrate descheduler profile is now available. This profile enhances the LongLifecycle profile by supporting load-aware descheduling, dynamic soft taints, and improved workload rebalancing.

# Bug fixes

* Restoring a snapshot of a VM after a storage migration no longer fails because of unreferenced dataVolumeTemplate objects. The snapshot process now refreshes the data volume templates in the controller revision to match the volumes list, ensuring consistent data recovery. (CNV-61279)

* The migration controller in the virt-handler pod was redesigned to separate source, target, and VM responsibilities, ensure deterministic completion, and use a unified VirtualMachineInstance (VMI) cache. (CNV-48348)

* Virtual Trusted Platform Module (vTPM) persistence is now enabled by default in VM templates. BitLocker system checks in Windows VMs no longer pass with non-persistent vTPM devices. (CNV-36448)

* On s390x systems, VMs created from a template with the Boot from CD option now boot correctly. CD-ROM devices are attached as SCSI instead of SATA, which is not supported on s390x architecture. (CNV-61740)

# Known issues

## Monitoring

## Networking

* When you update from {product-title} 4.12 to a newer minor version, VMs that use the cnv-bridge Container Network Interface (CNI) fail to live migrate. (https://access.redhat.com/solutions/7069807)
* As a workaround, change the spec.config.type field in your NetworkAttachmentDefinition manifest from cnv-bridge to bridge before performing the update.

* Red Hat OpenShift Service Mesh 3.1.1 and Istio versions 1.25 and later are incompatible with OpenShift Virtualization 4.19 because the annotation traffic.sidecar.istio.io/kubevirtInterfaces is deprecated. (OSSM-10883)
* As a workaround, when installing Service Mesh for integration with OpenShift Virtualization, select version 3.0.4 and Istio 1.24.4 instead of the default versions that are displayed in the web console.

## Nodes

* Uninstalling OpenShift Virtualization does not remove the feature.node.kubevirt.io node labels created by OpenShift Virtualization. You must remove the labels manually. (CNV-38543)

## Storage

## Virtualization

* OpenShift Virtualization links a service account token in use by a pod to that specific pod. OpenShift Virtualization implements a service account volume by creating a disk image that contains a token. If you migrate a VM, then the service account volume becomes invalid. (CNV-33835)
* As a workaround, use user accounts rather than service accounts because user account tokens are not bound to a specific pod.

## Web console

## IBM Z and IBM LinuxONE

* GPU devices appear in the Hardware Devices list for s390x VMs, but GPU support is not available for s390x architecture. You can disregard these list entries. (CNV-61957)

* When you create a VM by using Red Hat Enterprise Linux (RHEL) container disk images for s390x architecture, call traces referencing virtio_balloon free page reporting print to the VM console. This is due to a kernel bug. (OCPBUGS-51113)
* As a workaround, disable memory ballooning for the VM by adding the following parameter to the VM YAML configuration: spec.domain.devices.autoattachMemBalloon: false.

You can also disable free page reporting of memory ballooning for all new VMs. To do so, edit the HyperConverged CR and add the parameter spec.virtualMachineOptions.disableFreePageReporting: true.

* VMs based on s390x architecture can only use the IPL boot mode. However, in the {product-title} web console, the Boot mode list for s390x VMs incorrectly includes BIOS, UEFI, and UEFI (secure) boot modes. If you select one of these modes for an s390x-based VM, the operation fails. (CNV-56889)

* In the {product-title} web console, it is erroneously possible to define multiple CPU threads for a VM based on s390x architecture. If you define multiple CPU threads, the VM enters a CrashLoopBackOff state with the qemu-kvm: S390 does not support more than 1 threads error. (CNV-56890)