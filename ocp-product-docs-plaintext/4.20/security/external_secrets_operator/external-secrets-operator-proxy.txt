# About the egress proxy for the External Secrets Operator for Red Hat OpenShift

If a cluster-wide egress proxy is configured in {product-title}, Operator Lifecycle Manager (OLM) automatically configures Operators that it manages with the cluster-wide proxy. OLM automatically updates all of the Operator's deployments with the HTTP_PROXY, HTTPS_PROXY, NO_PROXY environment variables.

# Configuring the egress proxy for the External Secrets Operator for Red Hat OpenShift

The egress proxy can be configured in the ExternalSecretsConfig or the ExternalSecretsManager custom resource. The Operator and the operand make use of the {product-title} supported Certificate Authority (CA) bundle for the proxy validations.

* You have access to the cluster as a user with the cluster-admin role.
* You have created the ExternalSecretsConfig custom resource.

* To set the proxy in the ExternalSecretsConfig resource, perform the following steps:
1. Edit the ExternalSecretsConfig resource by running the following command:

```terminal
$ oc edit externalsecretsconfigs.operator.openshift.io cluster
```

2. Edit the spec.appConfig.proxy section to set the proxy values as follows:

```yaml
apiVersion: operator.openshift.io/v1alpha1
kind: ExternalSecretsConfig
...
spec:
  appConfig:
    proxy:
      httpProxy: <http_proxy> 1
      httpsProxy: <https_proxy> 2
      noProxy: <no_proxy> 3
```

Proxy URL for the http requests.
Proxy URL for the https requests.
Comma-separated list of hostnames and/or CIDRs and/or IPs for which the proxy should not be used.
* To set the proxy in the ExternalSecretsManager resource, perform the following steps.
1. Edit the ExternalSecretsManager resource by running the following command:

```terminal
$ oc edit externalsecretsmanagers.operator.openshift.io cluster
```

2. Edit the spec.globalConfig.proxy section to set the proxy values as follows:

```yaml
apiVersion: operator.openshift.io/v1alpha1
kind: ExternalSecretsManager
...
spec:
  globalConfig:
    proxy:
      httpProxy: <http_proxy> 1
      httpsProxy: <https_proxy> 2
      noProxy: <no_proxy> 3
```

Proxy URL for the http requests.
Proxy URL for the https requests.
Comma-separated list of hostnames and/or CIDRs and/or IPs for which the proxy should not be used.

# Additional resources

* Configuring proxy support in Operator Lifecycle Manager