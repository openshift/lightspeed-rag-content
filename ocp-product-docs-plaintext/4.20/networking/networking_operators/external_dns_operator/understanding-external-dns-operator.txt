# Understanding the External DNS Operator


The External DNS Operator deploys and manages ExternalDNS to provide the name resolution for services and routes from the external DNS provider to {product-title}.

# External DNS Operator

The External DNS Operator implements the External DNS API from the olm.openshift.io API group. The External DNS Operator updates services, routes, and external DNS providers.

* You have installed the yq CLI tool.

You can deploy the External DNS Operator on demand from the OperatorHub. Deploying the External DNS Operator creates a Subscription object.

1. Check the name of an install plan, such as install-zcvlr, by running the following command:

```terminal
$ oc -n external-dns-operator get sub external-dns-operator -o yaml | yq '.status.installplan.name'
```

2. Check if the status of an install plan is Complete by running the following command:

```terminal
$ oc -n external-dns-operator get ip <install_plan_name> -o yaml | yq '.status.phase'
```

3. View the status of the external-dns-operator deployment by running the following command:

```terminal
$ oc get -n external-dns-operator deployment/external-dns-operator
```

Example output

```terminal
NAME                    READY     UP-TO-DATE   AVAILABLE   AGE
external-dns-operator   1/1       1            1           23h
```


# Viewing External DNS Operator logs

You can view External DNS Operator logs by using the oc logs command.

1. View the logs of the External DNS Operator by running the following command:

```terminal
$ oc logs -n external-dns-operator deployment/external-dns-operator -c external-dns-operator
```


## External DNS Operator domain name limitations

The External DNS Operator uses the TXT registry which adds the prefix for TXT records. This reduces the maximum length of the domain name for TXT records. A DNS record cannot be present without a corresponding TXT record, so the domain name of the DNS record must follow the same limit as the TXT records. For example, a DNS record of <domain_name_from_source> results in a TXT record of external-dns-<record_type>-<domain_name_from_source>.

The domain name of the DNS records generated by the External DNS Operator has the following limitations:



The following error appears in the External DNS Operator logs if the generated domain name exceeds any of the domain name limitations:


```terminal
time="2022-09-02T08:53:57Z" level=error msg="Failure in zone test.example.io. [Id: /hostedzone/Z06988883Q0H0RL6UMXXX]"
time="2022-09-02T08:53:57Z" level=error msg="InvalidChangeBatch: [FATAL problem: DomainLabelTooLong (Domain label is too long) encountered with 'external-dns-a-hello-openshift-aaaaaaaaaa-bbbbbbbbbb-ccccccc']\n\tstatus code: 400, request id: e54dfd5a-06c6-47b0-bcb9-a4f7c3a4e0c6"
```
