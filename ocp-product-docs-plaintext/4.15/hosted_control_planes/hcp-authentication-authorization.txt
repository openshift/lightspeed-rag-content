Authentication and authorization for hosted control planes

The "Red Hat OpenShift Container Platform" control plane includes a built-in OAuth server. You can obtain OAuth access tokens to authenticate to the "Red Hat OpenShift Container Platform" API. After you create your hosted cluster, you can configure OAuth by specifying an identity provider.
Configuring the OAuth server for a hosted cluster by using the CLI
You can configure the internal OAuth server for your hosted cluster by using an OpenID Connect identity provider (oidc).

You can configure OAuth for the following supported identity providers:

oidc

htpasswd

keystone

ldap

basic-authentication

request-header

github

gitlab

google


Adding any identity provider in the OAuth configuration removes the default kubeadmin user provider.

You created your hosted cluster.


Edit the HostedCluster custom resource (CR) on the hosting cluster by running the following command:

Add the OAuth configuration in the HostedCluster CR by using the following example:

Save the file to apply the changes.
Configuring the OAuth server for a hosted cluster by using the web console
You can configure the internal OAuth server for your hosted cluster by using the "Red Hat OpenShift Container Platform" web console.

You can configure OAuth for the following supported identity providers:

oidc

htpasswd

keystone

ldap

basic-authentication

request-header

github

gitlab

google


Adding any identity provider in the OAuth configuration removes the default kubeadmin user provider.

You logged in as a user with cluster-admin privileges.

You created your hosted cluster.


Navigate to Home -> API Explorer.

Use the Filter by kind box to search for your HostedCluster resource.

Click the HostedCluster resource that you want to edit.

Click the Instances tab.

Click the Options menu  next to your hosted cluster name entry and click Edit HostedCluster.

Add the OAuth configuration in the YAML file:

Click Save.


To know more about supported identity providers, see "Understanding identity provider configuration" in Authentication and authorization.